<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>RELICORE - v3.2.8</title>
<style>
   :root { --bg: #ffffff; --panel: #f8f9fa; --border: #dee2e6; --primary: #007bff; --text: #212529; --hp: #dc3545; --dark: #1a1a1a; --gold: #d4af37; --growth: #ff69b4; --relic-purple: #6610f2; --relic-bg: #fcfaff; --majin: #4a0000; }
   * { -webkit-touch-callout: none; -webkit-user-select: none; user-select: none; box-sizing: border-box; }
   body { background: var(--bg); color: var(--text); font-family: 'Segoe UI', Roboto, sans-serif; margin: 0; height: 100vh; display: flex; flex-direction: column; overflow: hidden; position: relative; }

   #hado-awaken-modal, #upgrade-modal, #story-modal, #clear-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 30000; justify-content: center; align-items: center; padding: 20px; }
   .modal-content-base { background: #1a1a1a; border: 2px solid var(--gold); border-radius: 15px; padding: 30px; text-align: center; color: #fff; max-width: 400px; width: 90%; }
   
   .hado-content { background: #000; border: 3px solid var(--gold); border-radius: 20px; padding: 40px 20px; text-align: center; color: #fff; max-width: 450px; width: 95%; box-shadow: 0 0 60px rgba(212, 175, 55, 0.5); animation: awaken-glow 3s infinite alternate; }
   @keyframes awaken-glow { from { box-shadow: 0 0 20px rgba(212,175,55,0.4); } to { box-shadow: 0 0 80px rgba(212,175,55,0.8); } }
   
   .c1 { color: #888888; font-weight: bold; } .c2 { color: #28a745; font-weight: bold; } .c3 { color: #007bff; font-weight: bold; } .c4 { color: #6610f2; font-weight: bold; } .c5 { color: #e83e8c; font-weight: bold; } .c6 { color: #fd7e14; font-weight: bold; } .c7 { color: #ff0000; font-weight: bold; } .c8 { color: gold; font-weight: bold; text-shadow: 0 0 2px rgba(255,215,0,0.5); }

   #header { background: var(--dark); color: #fff; padding: 12px 10px; border-bottom: 2px solid #000; flex-shrink: 0; }
   .boss-area { text-align: center; width: 100%; }
   .boss-name { font-size: 1.0em; font-weight: bold; color: #888; letter-spacing: 2px; margin-bottom: 4px; transition: color 0.5s; }
   .boss-name.true-majin { color: #ff0000; text-shadow: 0 0 10px #ff0000; }
   .hp-bar-container { background: #333; height: 10px; border-radius: 5px; overflow: hidden; margin: 0 auto 8px auto; width: 100%; }
   #hp-bar-fill { height: 100%; background: linear-gradient(90deg, #b02a37, #dc3545); width: 100%; transition: width 0.15s ease-out; }
   .hp-val-display { font-size: 1.45em; font-weight: bold; color: #ff6b6b; font-family: 'Courier New', monospace; word-break: break-all; line-height: 1.2; letter-spacing: -1px; }
   
   .status-box { display: flex; gap: 8px; margin-top: 10px; }
   .stat-card { flex: 1; background: rgba(255,255,255,0.08); padding: 5px 10px; border-radius: 6px; border-left: 3px solid var(--primary); display: flex; flex-direction: column; overflow: hidden; }
   .stat-card.hp-card { border-left-color: var(--hp); }
   .stat-label { font-size: 0.65em; color: #aaa; text-transform: uppercase; margin-bottom: 1px; }
   .stat-val { font-size: 0.9em; font-weight: bold; font-family: monospace; color: #fff; overflow-x: auto; white-space: nowrap; }

   .nav { display: flex; background: var(--panel); border-bottom: 1px solid var(--border); flex-shrink: 0; }
   .nav button { flex: 1; padding: 12px 0; border: none; background: none; color: #6c757d; font-weight: bold; font-size: 0.8em; }
   .nav button.active { color: var(--primary); border-bottom: 3px solid var(--primary); background: #fff; }

   #content-area { flex-grow: 1; overflow: hidden; background: #fff; }
   .tab { display: none; padding: 10px 10px 150px 10px; height: 100%; width: 100%; overflow-y: auto; -webkit-overflow-scrolling: touch; }
   .tab.active { display: block; }

   .btn-attack { width: 100%; padding: 16px; background: var(--primary); color: #fff; font-size: 1.3em; font-weight: bold; border: none; border-radius: 12px; margin-bottom: 10px; box-shadow: 0 4px 0 #0056b3; flex-shrink: 0; touch-action: none; }
   #log { height: 400px; font-size: 0.82em; background: #fafafa; border: 1px solid var(--border); padding: 10px; overflow-y: auto; border-radius: 8px; line-height: 1.4; }
   .log-set { border-bottom: 1px solid #eee; padding-bottom: 8px; margin-bottom: 8px; }

   .vow-item { position: relative; background: #fff; border: 1px solid var(--border); border-radius: 8px; padding: 8px 10px 8px 16px; margin-bottom: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
   .vow-item::before { content: ""; position: absolute; left: 0; top: 0; bottom: 0; width: 4px; background: gold; border-radius: 8px 0 0 8px; }
   .vow-name { font-weight: bold; font-size: 0.9em; color: #333; margin-bottom: 3px; }
   .vow-highlight { font-weight: bold; font-size: 0.82em; display: block; line-height: 1.4; }

   .relic-list-container { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 6px; }
   .relic-card { position: relative; border: 1px solid #e0d5f0; padding: 6px 6px 6px 10px; border-radius: 6px; background: var(--relic-bg); display: flex; flex-direction: column; min-height: 70px; box-shadow: 0 2px 4px rgba(102, 16, 242, 0.05); }
   .relic-card::before { content: ""; position: absolute; left: 0; top: 0; bottom: 0; width: 3px; background: var(--relic-purple); border-radius: 6px 0 0 6px; }
   .relic-name { font-weight: bold; font-size: 0.65em; min-height: 2.4em; line-height: 1.2; }
   .relic-effect-box { font-size: 0.6em; color: #444; margin-top: 2px; }

   .st-box { background: #fefefe; border: 1px solid var(--border); border-radius: 8px; padding: 10px; margin-bottom: 10px; font-size: 0.85em; line-height: 1.6; }
   .btn-reset { width: 100%; padding: 16px; background: #dc3545; color: #fff; border: none; border-radius: 8px; font-weight: bold; margin-bottom: 20px; }
   .ver-footer { position: fixed; bottom: 4px; right: 4px; color: #bbb; font-size: 0.65em; pointer-events: none; z-index: 50; }
   .story-btn { background: none; border: 1px solid gold; color: gold; padding: 12px 40px; font-size: 1em; cursor: pointer; transition: 0.3s; margin-top: 15px; }
</style>
</head>
<body>

<div id="hado-awaken-modal"><div class="hado-content"><div class="hado-title">隠しスキル【破軍の号令】覚醒</div><div class="hado-msg">戦場に漂う数多の記憶……その「残滓」が臨界を超えたとき、王者の魂が呼び覚まされた。<br><br><span style="color:var(--gold); font-weight:bold;">【効果：覇道の理】</span><br>★1遺物の基礎ステータス上昇値が<span style="color:var(--gold); font-size:1.2em;"> 10倍 </span>に固定強化される。</div><button class="story-btn" onclick="closeHadoModal()">その力を受け入れる</button></div></div>
<div id="upgrade-modal"><div class="modal-content-base"><div id="upgrade-title" style="color:gold; font-weight:bold; margin-bottom:10px;"></div><div id="upgrade-msg"></div><button class="story-btn" onclick="closeUpgradeModal()">承知した</button></div></div>
<div id="story-modal"><div class="hado-content"><div style="text-align:left; line-height:1.8;">「……まだ、その魂は潰えていないのか。<br>肉体は砕け、積み上げた研鑽も……かつて、お前が愛した世界とともに灰へと帰した。<br>絶望の淵でお前の魂を繋ぎ止める一つの輝きがある。決して折れぬ不屈の意志が呼び覚ます、最期の光――<span style="color:gold;font-weight:bold;">『再起の誓い』</span>。</div><button class="story-btn" onclick="closeStory()">魂に刻印する</button></div></div>
<div id="clear-modal"><div class="modal-content-base"><h3>討伐成功</h3><p id="clear-msg">魔神を討伐しました。</p><button class="story-btn" onclick="closeClearModal()">次なる戦いへ</button></div></div>

<div id="header">
   <div class="boss-area">
       <div class="boss-name" id="boss-display-name">魔神</div>
       <div class="hp-bar-container"><div id="hp-bar-fill"></div></div>
       <div class="hp-val-display" id="bosshp-cur">0</div>
   </div>
   <div class="status-box">
       <div class="stat-card"><span class="stat-label">ATK</span><div class="stat-val" id="p-atk">0</div></div>
       <div class="stat-card hp-card"><span class="stat-label">HP</span><div class="stat-val" id="p-hp">0</div></div>
   </div>
</div>

<div class="nav">
   <button onclick="showTab('battle')" id="nav-battle" class="active">討伐</button>
   <button onclick="showTab('vow')" id="nav-vow">再起</button>
   <button onclick="showTab('relic')" id="nav-relic">遺物</button>
   <button onclick="showTab('status')" id="nav-status">詳細</button>
</div>

<div id="content-area">
   <div id="battle" class="tab active"><button class="btn-attack" id="attackBtn">こうげき</button><div id="log"></div></div>
   <div id="vow" class="tab"><div id="vow-list"></div></div>
   <div id="relic" class="tab"><div class="relic-list-container" id="relic-list"></div></div>
   <div id="status" class="tab">
       <div class="st-box">再起回数: <span id="v-death">0</span> 回<br>最高ダメージ: <span id="st-maxdmg">0</span></div>
       <div id="hado-box" class="st-box" style="display:none; border:2px solid gold; color:gold;">習得済み：覇軍の号令</div>
       <div class="st-box">遺物所持数: <span id="st-collection">0/54</span></div>
       <button class="btn-reset" onclick="resetData()">全データリセット</button>
   </div>
</div>
<div class="ver-footer">RELICORE v3.2.8</div>

<script>
const SAVE_KEY = "relicore_player_data";
const BOSS_MAX_HP_NORMAL = 100000000000000000000n; // 1万京
const BOSS_MAX_HP_TRUE = 1000000000000000000000n; // 10万京
const MAJIN_ATK_VALUE = 999999999999n;

let player = { inventory: {0:1}, deathCount:0, baseAtk:10n, baseHP:100n, maxDmg:0n, storySeen:false, hasHado:false };
let currentBossHP = BOSS_MAX_HP_NORMAL;
let attackInterval = null;
let isModalOpen = false;

const RELIC_MASTER = [
   {id:0, star:8, name:"再起の誓い", atk:0, hp:0, desc:"不屈の魂に刻まれた、再誕の原点。"},
   {id:101, star:1, name:"剣士の欠片", atk:7, hp:15}, {id:102, star:1, name:"狩人の欠片", atk:8, hp:18}, {id:103, star:1, name:"暗殺者の欠片", atk:9, hp:20}, {id:104, star:1, name:"狂戦士の欠片", atk:10, hp:22}, {id:105, star:1, name:"武闘家の欠片", atk:6, hp:12}, {id:106, star:1, name:"衛兵の欠片", atk:2, hp:45}, {id:107, star:1, name:"騎士の欠片", atk:4, hp:55}, {id:108, star:1, name:"重装兵の欠片", atk:3, hp:65}, {id:109, star:1, name:"修道士の欠片", atk:1, hp:40}, {id:110, star:1, name:"盾持ちの欠片", atk:0, hp:50}, {id:111, star:1, name:"魔法使いの欠片", atk:4, hp:35}, {id:112, star:1, name:"斥候の欠片", atk:3, hp:48}, {id:113, star:1, name:"冒険者の欠片", atk:5, hp:42}, {id:114, star:1, name:"見習いの欠片", atk:2, hp:30}, {id:115, star:1, name:"放浪者の欠片", atk:4, hp:44}, {id:116, star:1, name:"メモリーダスト", atk:1, hp:10},
   {id:201, star:2, name:"聖騎士の欠片", atk:400, hp:6800}, {id:202, star:2, name:"龍騎士の欠片", atk:800, hp:4200}, {id:203, star:2, name:"暗黒騎士の欠片", atk:1300, hp:1500}, {id:204, star:2, name:"賢者の欠片", atk:500, hp:7100}, {id:205, star:2, name:"大魔道士の欠片", atk:1100, hp:1200}, {id:206, star:2, name:"暗殺王の欠片", atk:1500, hp:1600}, {id:207, star:2, name:"重装騎士の欠片", atk:200, hp:12400}, {id:208, star:2, name:"拳聖の欠片", atk:900, hp:3100}, {id:209, star:2, name:"神官の欠片", atk:40, hp:14800}, {id:210, star:2, name:"冒険王の欠片", atk:700, hp:5900},
   {id:301, star:3, name:"聖龍騎士の欠片", atk:8700, hp:69000}, {id:302, star:3, name:"深淵魔導の欠片", atk:13000, hp:15000}, {id:303, star:3, name:"金剛武神の欠片", atk:4100, hp:148000}, {id:304, star:3, name:"暗黒皇帝の欠片", atk:15000, hp:16000}, {id:305, star:3, name:"大聖者の欠片", atk:500, hp:152000}, {id:306, star:3, name:"影の支配者の欠片", atk:14000, hp:15000}, {id:307, star:3, name:"竜血闘士の欠片", atk:10000, hp:42000}, {id:308, star:3, name:"天界騎士の欠片", atk:6100, hp:98000}, {id:309, star:3, name:"虚空の暗殺者の欠片", atk:16000, hp:17000}, {id:310, star:3, name:"極大賢者の欠片", atk:5400, hp:118000},
   {id:401, star:4, name:"【不退転】武神の魂", atk:65000, hp:180000}, {id:402, star:4, name:"【刹那】聖者の遺志", atk:50000, hp:250000}, {id:403, star:4, name:"【因果】魔導王の記憶", atk:75000, hp:150000, desc: "ダメージカット率の下限を +30% 加算する。"}, {id:404, star:4, name:"【反撃】勇者の残光", atk:90000, hp:120000}, {id:405, star:4, name:"【魂研】賢者の叡智", atk:55000, hp:220000}, {id:406, star:4, name:"【死刻】死神の鎌", atk:110000, hp:180000},
   {id:501, star:5, name:"慈愛の権能", atk:250000, hp:800000}, {id:502, star:5, name:"強欲の権能", atk:450000, hp:550000}, {id:503, star:5, name:"忍耐の権能", atk:200000, hp:950000}, {id:504, star:5, name:"知恵の権能", atk:350000, hp:720000},
   {id:601, star:6, name:"支配の権能", atk:1500000, hp:4500000, mult:1.05}, {id:602, star:6, name:"秩序の権能", atk:2500000, hp:3500000, mult:1.05}, {id:603, star:6, name:"虚無の権能", atk:2000000, hp:4000000, mult:1.05}, {id:604, star:6, name:"創造の権能", atk:1200000, hp:5000000, mult:1.05},
   {id:701, star:7, name:"パンドラの箱", atk:15000000, hp:35000000, mult:2.0, desc:"災厄が詰まった箱。所持中、真の魔神が姿を現す。"}, {id:702, star:7, name:"終焉の福音", atk:20000000, hp:45000000, mult:2.5}, {id:703, star:7, name:"神滅のアカシックレコード", atk:10000000, hp:55000000, mult:3.0}
];

function isTrueMajinMode() { return (player.inventory[701] || 0) > 0; }
function getMaxBossHP() { return isTrueMajinMode() ? BOSS_MAX_HP_TRUE : BOSS_MAX_HP_NORMAL; }

function saveGame() { const data = { ...player, baseAtk: player.baseAtk.toString(), baseHP: player.baseHP.toString(), maxDmg: player.maxDmg.toString(), bossHP: currentBossHP.toString() }; localStorage.setItem(SAVE_KEY, JSON.stringify(data)); }
function loadGame() { 
   let saved = localStorage.getItem(SAVE_KEY); 
   if(saved) { 
       const p = JSON.parse(saved); Object.assign(player, p); 
       player.baseAtk = BigInt(p.baseAtk); player.baseHP = BigInt(p.baseHP); player.maxDmg = BigInt(p.maxDmg); 
       currentBossHP = BigInt(p.bossHP);
       if(currentBossHP <= 0n) currentBossHP = getMaxBossHP();
   }
   if(!player.storySeen) { isModalOpen = true; document.getElementById("story-modal").style.display = "flex"; }
}

function getRelicBonus() {
   let atk = 0n, hp = 0n, mult = 1.0;
   Object.entries(player.inventory).forEach(([id, count]) => {
       const r = RELIC_MASTER.find(m => m.id == id); if(!r) return;
       let bA = BigInt(r.atk || 0) * BigInt(count);
       let bH = BigInt(r.hp || 0) * BigInt(count);
       if(player.hasHado && r.star === 1) { bA *= 10n; bH *= 10n; }
       atk += bA; hp += bH; if(r.mult) mult *= Math.pow(r.mult, count);
   });
   return { atk, hp, mult };
}

function attack() {
   if(isModalOpen) return;
   const b = getRelicBonus();
   let bonus = 0; [1000, 5000, 25000, 100000, 250000].forEach(t => { if(player.deathCount >= t) bonus++; });
   const statAtk = player.baseAtk + b.atk;
   const kamaCount = player.inventory[406] || 0;
   const deathDmgMult = 1.0 + (player.deathCount * 0.0001 * (1 + kamaCount));
   
   let finalDmg = BigInt(Math.floor(Number(statAtk) * b.mult * deathDmgMult * (0.9 + Math.random()*0.2))) || 1n;
   if(finalDmg > player.maxDmg) player.maxDmg = finalDmg;
   
   currentBossHP -= finalDmg;
   
   if(currentBossHP <= 0n) {
       currentBossHP = 0n;
       isModalOpen = true;
       document.getElementById("clear-msg").innerText = isTrueMajinMode() ? "真・魔神を討伐し、世界の因果を断ち切りました。" : "魔神を討伐しました。";
       document.getElementById("clear-modal").style.display = "flex";
       refreshUI(); return;
   }

   let logHtml = `<div><span style="color:#007bff; font-weight:bold;">${finalDmg.toLocaleString()} ダメージ！</span></div>` + getDropLog(1 + bonus);
   const currentTotalHP = BigInt(Math.floor(Number(player.baseHP + b.hp) * b.mult));
   
   let rejStep = 0; [3000, 15000, 60000, 150000].forEach(t => { if(player.deathCount >= t) rejStep++; });
   let lowerLimit = (rejStep * 5) + (player.inventory[403] ? 30 : 0);
   let actualCutPercent = Math.floor(Math.random() * (101 - lowerLimit)) + lowerLimit;
   
   const mitigatedDmg = BigInt(Math.floor(Number(MAJIN_ATK_VALUE) * (1 - actualCutPercent / 100)));
   
   if (currentTotalHP > mitigatedDmg) { 
       const chieCount = player.inventory[405] || 0;
       if(chieCount > 0) player.deathCount += chieCount;
       logHtml += `<div><span style="color:#28a745; font-weight:bold;">ボスの攻撃！${mitigatedDmg.toLocaleString()} ダメージ。障壁展開(${actualCutPercent}%)！</span></div>` + getGuaranteedDrop(); 
   } else {
       const seijaCount = player.inventory[402] || 0;
       let totalUpHP = 0n;
       for(let i=0; i <= seijaCount; i++) totalUpHP += BigInt(Math.floor(1 + Math.random() * (Math.max(1, player.deathCount))));
       player.baseHP += totalUpHP; 
       player.deathCount += (1 + bonus);
       logHtml += `<div><span style="color:#dc3545;">ボスの攻撃！致命傷。</span><span style="color:#007bff; font-weight:bold;">再起の誓いによって新たなる力を得た </span><span style="color:var(--growth); font-weight:bold;">(基礎HP+${totalUpHP.toLocaleString()})</span></div>`;
   }
   addLog(logHtml); saveGame(); refreshUI();
}

function getGuaranteedDrop() {
   const zankoCount = player.inventory[404] || 0;
   let star = 2;
   if(zankoCount > 0) { star = 3; if(Math.random() < (0.001 + (zankoCount - 1) * 0.0001)) star = 4; }
   const cands = RELIC_MASTER.filter(m => m.star === star);
   const sel = cands[Math.floor(Math.random() * cands.length)];
   const dropMult = 1 + (player.inventory[401] || 0);
   player.inventory[sel.id] = (player.inventory[sel.id] || 0) + dropMult;
   return `<div style="font-size:0.82em;">【狼煙】獲得：<span class="c${sel.star}">★${sel.star} ${sel.name}${dropMult > 1 ? ' ×' + dropMult : ''}</span></div>`;
}

function getDropLog(targetCount) {
   let obtained = {}; const dropMult = 1 + (player.inventory[401] || 0);
   for(let i=0; i<targetCount; i++) {
       let rv = Math.random()*100, star=1, curP=0;
       const rates = player.hasHado ? {1:78,2:20,3:1.9,4:0.09,5:0.009,6:0.001} : {1:99.8,2:0.18,3:0.019,4:0.001};
       for(let s in rates) { curP += rates[s]; if(rv <= curP) { star=parseInt(s); break; } }
       let cands = RELIC_MASTER.filter(m => m.star === star && m.id !== 0);
       let sel = cands[Math.floor(Math.random() * cands.length)];
       player.inventory[sel.id] = (player.inventory[sel.id] || 0) + dropMult;
       obtained[sel.id] = (obtained[sel.id] || 0) + dropMult;
   }
   const items = Object.entries(obtained).map(([id, c]) => { const m = RELIC_MASTER.find(x=>x.id==id); return `<span class="c${m.star}">★${m.star} ${m.name}×${c}</span>`; });
   return items.length > 0 ? `<div style="font-size:0.82em;">獲得：${items.join(", ")}</div>` : "";
}

function refreshUI() {
   const b = getRelicBonus();
   const finalAtk = BigInt(Math.floor(Number(player.baseAtk + b.atk) * b.mult));
   const finalHp = BigInt(Math.floor(Number(player.baseHP + b.hp) * b.mult));
   document.getElementById("p-atk").innerText = finalAtk.toLocaleString();
   document.getElementById("p-hp").innerText = finalHp.toLocaleString();
   document.getElementById("bosshp-cur").innerText = currentBossHP.toLocaleString();
   
   const maxHP = getMaxBossHP();
   document.getElementById("hp-bar-fill").style.width = `${Number(currentBossHP * 100n / maxHP)}%`;
   
   const bName = document.getElementById("boss-display-name");
   if(isTrueMajinMode()) { bName.innerText = "真・魔神"; bName.classList.add("true-majin"); }
   else { bName.innerText = "魔神"; bName.classList.remove("true-majin"); }

   document.getElementById("hado-box").style.display = player.hasHado ? "block" : "none";
   document.getElementById("st-collection").innerText = `${Object.keys(player.inventory).length}/54`;
}

function renderVow() {
   const list = document.getElementById('vow-list');
   let rejStep = 0; [3000, 15000, 60000, 150000].forEach(t => { if(player.deathCount >= t) rejStep++; });
   list.innerHTML = `<div class="vow-item"><div class="vow-name">因果の拒絶</div><span class="vow-highlight" style="color:#007bff;">障壁下限：${(rejStep * 5) + (player.inventory[403] ? 30 : 0)}% 加算中</span></div>`;
}

function showTab(id) { document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active")); document.getElementById(id).classList.add("active"); if(id==='vow') renderVow(); refreshUI(); }
function addLog(html) { const l = document.getElementById("log"); const d = document.createElement("div"); d.className="log-set"; d.innerHTML=html; l.prepend(d); if(l.childNodes.length > 20) l.removeChild(l.lastChild); }
function closeStory() { player.storySeen = true; isModalOpen = false; document.getElementById("story-modal").style.display = "none"; saveGame(); }
function closeClearModal() { document.getElementById("clear-modal").style.display = "none"; isModalOpen = false; currentBossHP = getMaxBossHP(); saveGame(); refreshUI(); }
function resetData() { if(confirm("全リセットしますか？")) { localStorage.clear(); location.reload(); } }

const btn = document.getElementById("attackBtn");
btn.addEventListener("pointerdown", (e) => { e.preventDefault(); if(!isModalOpen) { attack(); if(!attackInterval) attackInterval = setInterval(attack, 120); } });
window.addEventListener("pointerup", () => { clearInterval(attackInterval); attackInterval = null; });

loadGame(); refreshUI();
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>RELICORE v3.3.33</title>
    <style>
        :root {
            --bg: #121212;
            --card-bg: #1e1e1e;
            --text: #e0e0e0;
            --primary: #bb86fc;
            --star1: #ffffff;
            --star2: #4caf50;
            --star3: #2196f3;
            --star4: #ff9800;
            --star5: #f44336;
            --star6: #e91e63;
            --star7: #9c27b0;
        }
        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: sans-serif;
            margin: 0;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        #game-container {
            width: 100%;
            max-width: 500px;
        }
        .header {
            text-align: center;
            margin-bottom: 20px;
        }
        .enemy-hp-bar {
            width: 100%;
            height: 10px;
            background: #333;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 5px;
        }
        .enemy-hp-fill {
            height: 100%;
            background: #f44336;
            width: 100%;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }
        .stat-box {
            background: var(--card-bg);
            padding: 10px;
            border-radius: 5px;
            border-left: 4px solid var(--primary);
        }
        .relic-list {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
        }
        .relic-card {
            background: var(--card-bg);
            padding: 8px;
            border-radius: 5px;
            font-size: 0.85em;
            border: 1px solid #333;
        }
        .relic-name { font-weight: bold; margin-bottom: 4px; }
        .c1 { color: var(--star1); } .c2 { color: var(--star2); }
        .c3 { color: var(--star3); } .c4 { color: var(--star4); }
        .c5 { color: var(--star5); } .c6 { color: var(--star6); }
        .c7 { color: var(--star7); }
        .relic-effect-box { color: #aaa; }
    </style>
</head>
<body>

<div id="game-container">
    <div class="header">
        <div id="enemy-name">終末神アポカリス＝ティア</div>
        <div class="enemy-hp-bar"><div class="enemy-hp-fill" id="hp-fill"></div></div>
        <div id="enemy-hp-text" style="color:#f44336; font-weight:bold;">99,999,999,999,864,258,574</div>
    </div>

    <div class="stats-grid">
        <div class="stat-box">ATK<br><span id="player-atk">132,840</span></div>
        <div class="stat-box">HP<br><span id="player-hp">2,725,898</span></div>
    </div>

    <div class="relic-list" id="relic-list">
        </div>
</div>

<script>
/* RELICORE v3.3.33 Logic */
const RELIC_MASTER = [
    { id: 101, star: 1, name: "剣士の欠片", atk: 7.4 },
    { id: 102, star: 1, name: "狩人の欠片", atk: 8.1 },
    { id: 103, star: 1, name: "暗殺者の欠片", atk: 9.6 },
    { id: 104, star: 1, name: "狂戦士の欠片", atk: 10.3 },
    { id: 105, star: 1, name: "武闘家の欠片", atk: 6.7 },
    { id: 106, star: 1, name: "衛兵の欠片", hp: 45.2 },
    { id: 107, star: 1, name: "騎士の欠片", hp: 55.9 },
    { id: 108, star: 1, name: "重装兵の欠片", hp: 65.4 },
    { id: 109, star: 1, name: "修道士の欠片", hp: 40.3 },
    { id: 110, star: 1, name: "盾持ちの欠片", hp: 50.8 },
    { id: 111, star: 1, name: "魔法使いの欠片", atk: 4.2, hp: 35.7 },
    { id: 112, star: 1, name: "斥候の欠片", atk: 3.9, hp: 48.1 },
    { id: 113, star: 1, name: "冒険者の欠片", atk: 5.4, hp: 42.6 },
    { id: 114, star: 1, name: "見習いの欠片", atk: 2.1, hp: 30.5 },
    { id: 115, star: 1, name: "放浪者の欠片", atk: 4.7, hp: 44.2 },
    { id: 116, star: 1, name: "メモリーダスト", atk: 1.3, hp: 10.9 },
    { id: 201, star: 2, name: "聖騎士の欠片", atk: 412, hp: 6824 },
    { id: 202, star: 2, name: "龍騎士の欠片", atk: 867, hp: 4231 },
    { id: 401, star: 4, name: "再起の誓い", desc: "初期装備。敗北するたび強くなる。" },
    { id: 501, star: 5, name: "慈愛の権能", atk: 150000, hp: 3500000 },
    { id: 701, star: 7, name: "パンドラの箱", desc: "「神」を倒すための条件。未知なる絶望と希望。" }
];

let player = {
    inventory: { 101: 269, 102: 264, 103: 274, 104: 273, 105: 284, 106: 269, 107: 280, 108: 259, 109: 258, 110: 288, 111: 262, 112: 251, 113: 248, 114: 262, 115: 255, 116: 252, 201: 3, 202: 3 },
    hadoLevel: 0,
    version: "3.3.33"
};

// 遺物タブの描画（累計を消し、基本値と所持数を表示）
function renderRelics() {
    const listElement = document.getElementById("relic-list");
    if (!listElement) return;

    const sorted = Object.entries(player.inventory)
        .filter(([id, c]) => c > 0)
        .sort((a, b) => { 
            const ra = RELIC_MASTER.find(x => x.id == parseInt(a[0]));
            const rb = RELIC_MASTER.find(x => x.id == parseInt(b[0])); 
            return (ra ? ra.star : 0) - (rb ? rb.star : 0); 
        });
    
    listElement.innerHTML = sorted.map(([id, c]) => {
        const m = RELIC_MASTER.find(x => x.id == parseInt(id));
        if(!m) return "";
        
        let statusParts = [];
        if (m.atk) statusParts.push(`ATK ${Math.floor(m.atk)}`);
        if (m.hp) statusParts.push(`HP ${Math.floor(m.hp)}`);
        let statusText = statusParts.join(" ");

        let extra = "";
        if(m.id == 116) {
            const dust = player.inventory[116] || 0;
            let next = 100000;
            extra = `<div style="color:var(--primary); font-size:0.9em; margin-top:2px;">あと: ${(next - dust).toLocaleString()}</div>`;
        }

        return `
            <div class="relic-card">
                <div class="relic-name c${m.star}">★${m.star} ${m.name} ×${c}</div>
                <div class="relic-effect-box">
                    ${m.desc ? m.desc : statusText}
                    ${extra}
                </div>
            </div>`;
    }).join("");
}

// 初期化
window.onload = () => {
    renderRelics();
    console.log("RELICORE v3.3.33 Loaded.");
};
</script>
</body>
</html>
